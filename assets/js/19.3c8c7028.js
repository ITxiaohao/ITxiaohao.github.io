(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{388:function(s,a,t){"use strict";t.r(a);var e=t(2),n=Object(e.a)({},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[t("a",{attrs:{href:"https://github.com/ITxiaohao/webpack4-learn/tree/master/demo01",target:"_blank",rel:"noopener noreferrer"}},[s._v("demo1 源码地址"),t("OutboundLink")],1)]),s._v(" "),t("p",[s._v("创建空文件夹，通过运行以下命令初始化 "),t("strong",[s._v("package.json")])]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" init -y\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("div",{staticClass:"tip custom-block"},[t("p",[s._v("npm init  用来初始化生成一个新的  package.json  文件。它会向用户提问一系列问题，如果你觉得不用修改默认配置，一路回车就可以了。\n如果使用了 -y（代表 yes），则跳过提问阶段，直接生成一个新的  package.json  文件。")])]),s._v(" "),t("p",[s._v("引入 webpack4：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i webpack --save-dev\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("还需要  webpack-cli ，作为一个单独的包引入，如果不装 webpack-cli 是无法在命令行里使用 webpack 的")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" i webpack-cli --save-dev\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[s._v("此项目 webpack 版本如下：")]),s._v(" "),t("div",{staticClass:"language-json line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"webpack"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^4.29.6"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token property"}},[s._v('"webpack-cli"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"^3.2.3"')]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("p",[s._v("现在打开  package.json  并添加一个  build(构建) 脚本：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/ITxiaohao/blog-img/master/img/webpack/20190303164215.png",alt:""}})]),s._v(" "),t("p",[s._v("尝试运行看看会发生什么：")]),s._v(" "),t("div",{staticClass:"language-bash line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/ITxiaohao/blog-img/master/img/webpack/20190303164344.png",alt:""}})]),s._v(" "),t("p",[s._v("在 webpack4 以前的版本中，必须在名为 webpack.config.js 的配置文件中 通过  entry  属性定义 entry point(入口点)，就像这样：")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/ITxiaohao/blog-img/master/img/webpack/20190303164413.png",alt:""}})]),s._v(" "),t("p",[s._v("从 webpack4 开始，不再必须定义 entry point(入口点) ：它将默认为 "),t("strong",[s._v("./src/index.js")])]),s._v(" "),t("p",[s._v("测试这个新功能，首先创建 ./src/index.js 文件")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/ITxiaohao/blog-img/master/img/webpack/20190303164918.png",alt:""}})]),s._v(" "),t("p",[s._v("再运行 "),t("code",[s._v("npm run build")]),s._v(" 试试")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/ITxiaohao/blog-img/master/img/webpack/20190303165055.png",alt:""}})]),s._v(" "),t("p",[s._v("打包成功，并在当前的根目录中得到打包后的文件夹，也就是 "),t("strong",[s._v("dist")]),s._v(" 文件夹")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/ITxiaohao/blog-img/master/img/webpack/20190303165232.png",alt:""}})]),s._v(" "),t("p",[s._v("它将查找 "),t("strong",[s._v("./src/index.js")]),s._v(" 作为默认入口点。 而且，它会在 "),t("strong",[s._v("./dist/main.js")]),s._v(" 中输出模块包，目前代码量小，可以格式化看效果")]),s._v(" "),t("p",[t("img",{attrs:{src:"https://raw.githubusercontent.com/ITxiaohao/blog-img/master/img/webpack/20190305093607.png",alt:""}})]),s._v(" "),t("p",[s._v("至此，打包 JS 结束")]),s._v(" "),t("p",[s._v("参考："),t("a",{attrs:{href:"https://webpack.js.org/guides/getting-started",target:"_blank",rel:"noopener noreferrer"}},[s._v("webpack 官网入门"),t("OutboundLink")],1)])])},[],!1,null,null,null);a.default=n.exports}}]);