(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{383:function(t,e,a){"use strict";a.r(e);var s=a(2),r=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[a("a",{attrs:{href:"https://github.com/ITxiaohao/webpack4-learn/tree/master/demo02",target:"_blank",rel:"noopener noreferrer"}},[t._v("demo2 源码地址"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("拥有 2 个配置文件在 webpack 中是的常见模式。")]),t._v(" "),a("p",[t._v("一个典型的项目可能有：")]),t._v(" "),a("ul",[a("li",[t._v("用于开发的配置文件，配置热更新、跨域配置、端口设置等")]),t._v(" "),a("li",[t._v("用于生产的配置文件，配置 js 压缩、代码拆分等")])]),t._v(" "),a("p",[t._v("虽然较大的项目可能仍然需要 2 个配置文件，但在 webpack4 中，你可以在没有一行配置的情况下完成")]),t._v(" "),a("p",[t._v("webpack4 引入了  production(生产)  和  development(开发)  模式。")]),t._v(" "),a("p",[t._v("细心的朋友会发现在 "),a("code",[t._v("npm run build")]),t._v(" 打包后会有一段报警提示")]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",[t._v("'mode' 选项尚未设置，webpack 将回退到 'production'。 将 “mode” 选项设置为 'development' 或 'production' 以启用每个环境的默认值。\n您还可以将其设置为 'none' 以禁用任何默认行为。 "),a("a",{attrs:{href:"https://webpack.js.org/concepts/mode/",target:"_blank",rel:"noopener noreferrer"}},[t._v("了解更多"),a("OutboundLink")],1)])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/ITxiaohao/blog-img/master/img/webpack/20190305105906.png",alt:""}})]),t._v(" "),a("ol",[a("li",[t._v("打开 package.json 并填充 script  部分，如下所示：")])]),t._v(" "),a("div",{staticClass:"language-json line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack --mode development"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack --mode production"')]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("运行 "),a("code",[t._v("npm run dev")])])]),t._v(" "),a("p",[t._v("打开 ./dist/main.js 文件，是一个 bundle(包) 文件，并没有压缩！")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/ITxiaohao/blog-img/master/img/webpack/20190305111034.png",alt:""}})]),t._v(" "),a("ol",{attrs:{start:"3"}},[a("li",[t._v("运行 "),a("code",[t._v("npm run build")])])]),t._v(" "),a("p",[t._v("可以看到 ./dist/main.js 文件已经被压缩了")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/ITxiaohao/blog-img/master/img/webpack/20190318110052.png",alt:""}})]),t._v(" "),a("p",[t._v("其实在终端里也能发现，看构建完的大小， dev 模式下文件大小是 3.8 KB， prod 模式下文件大小仅为 960 字节")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/ITxiaohao/blog-img/master/img/webpack/20190305111311.png",alt:""}})]),t._v(" "),a("p",[t._v("production mode(生产模式)  可以开箱即用地进行各种优化。 包括压缩，作用域提升，tree-shaking 等。")]),t._v(" "),a("p",[t._v("另一方面，development mode(开发模式) 针对速度进行了优化，仅仅提供了一种不压缩的 bundle")]),t._v(" "),a("p",[t._v("在 webpack4 中，可以在没有一行配置的情况下完成任务！ 只需定义 –mode 参数即可获得所有内容！")])])},[],!1,null,null,null);e.default=r.exports}}]);